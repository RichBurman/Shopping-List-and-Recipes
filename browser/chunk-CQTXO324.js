import{a as u}from"./chunk-TV4Y3OAU.js";import{a as m}from"./chunk-OTPWLP7M.js";import{a,d as h,j as d,la as f,m as n,p as r}from"./chunk-MY5YCN2Y.js";import{a as c,b as p}from"./chunk-5FZOKLP6.js";var l=(()=>{let i=class i{constructor(e){this.slService=e,this.recipesChanged=new a,this.recipes=[]}setRecipes(e){this.recipes=e,this.recipesChanged.next(this.recipes.slice())}getRecipes(){return this.recipes.slice()}getRecipe(e){return this.recipes[e]}addIngredientsToShoppingList(e,t){let o=e.map(g=>p(c({},g),{recipeName:t}));this.slService.addIngredients(o)}addRecipe(e){this.recipes.push(e),this.recipesChanged.next(this.recipes.slice())}updateRecipe(e,t){this.recipes[e]=t,this.recipesChanged.next(this.recipes.slice())}deleteRecipe(e){this.recipes.splice(e,1),this.recipesChanged.next(this.recipes.slice())}};i.\u0275fac=function(t){return new(t||i)(r(u))},i.\u0275prov=n({token:i,factory:i.\u0275fac});let s=i;return s})();var w=(()=>{let i=class i{constructor(e,t,o){this.http=e,this.recipesService=t,this.authService=o}storeRecipes(){let e=this.recipesService.getRecipes();this.http.put("https://recipe-book-a5516-default-rtdb.europe-west1.firebasedatabase.app/recipes.json",e).subscribe(t=>{console.log(t)})}fetchRecipes(){return this.http.get("https://recipe-book-a5516-default-rtdb.europe-west1.firebasedatabase.app/recipes.json").pipe(h(e=>e.map(t=>p(c({},t),{ingredients:t.ingredients?t.ingredients:[]}))),d(e=>{this.recipesService.setRecipes(e)}))}};i.\u0275fac=function(t){return new(t||i)(r(f),r(l),r(m))},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let s=i;return s})();export{l as a,w as b};
